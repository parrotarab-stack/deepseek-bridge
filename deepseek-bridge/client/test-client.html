<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุชุฌุฑุจุฉ ุฌุณุฑ ุฏูุจ ุณูู</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; background: #f0f0f0; }
        .container { max-width: 800px; margin: 0 auto; background: white; padding: 30px; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
        h1 { color: #333; }
        .btn { background: #4CAF50; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; margin: 10px 5px; }
        .btn:hover { background: #45a049; }
        pre { background: #f5f5f5; padding: 15px; border-radius: 5px; overflow: auto; }
        .success { color: green; }
        .error { color: red; }
    </style>
</head>
<body>
    <div class="container">
        <h1>๐ ุชุฌุฑุจุฉ ุงุชุตุงู ุฌุณุฑ ุฏูุจ ุณูู</h1>
        <p>ูุฐู ุตูุญุฉ ุชุฌุฑูุจูุฉ ููุชุญูู ูู ุงุชุตุงู ุงููุงุฌูุฉ ุงูุฃูุงููุฉ ุจุงูุฎุงุฏู.</p>
        
        <div>
            <button class="btn" onclick="testConnection()">ุงุฎุชุจุงุฑ ุงุชุตุงู ุงูุฎุงุฏู</button>
            <button class="btn" onclick="testCreateToken()">ุฅูุดุงุก ููู ูููุฉ ุชุฌุฑูุจู</button>
            <button class="btn" onclick="testDeepSeek()">ูุชุญ DeepSeek ุชุฌุฑูุจู</button>
        </div>
        
        <div id="result" style="margin-top: 20px;"></div>
        
        <h3>ููุงุญุธุงุช:</h3>
        <ul>
            <li>ุชุฃูุฏ ูู ุชุดุบูู ุงูุฎุงุฏู ุนูู <code>http://localhost:3000</code></li>
            <li>ูุงุฎุชุจุงุฑ ูุงููุ ุงูุชุญ <a href="/">ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ</a> ููุชุทุจูู</li>
            <li>ููุชุญูู ุงููุงููุ ุงุณุชุฎุฏู ุฃุฏูุงุช ุงููุทูุฑ (F12) ูู ุงููุชุตูุญ</li>
        </ul>
    </div>
    
    <script>
        const API_BASE = 'http://localhost:3000';
        
        async function testConnection() {
            const resultDiv = document.getElementById('result');
            resultDiv.innerHTML = '<p>ุฌุงุฑู ุงุฎุชุจุงุฑ ุงูุงุชุตุงู ุจุงูุฎุงุฏู...</p>';
            
            try {
                const response = await fetch(`${API_BASE}/health`);
                const data = await response.json();
                
                resultDiv.innerHTML = `
                    <div class="success">
                        <h3>โ ุงูุงุชุตุงู ูุงุฌุญ!</h3>
                        <pre>${JSON.stringify(data, null, 2)}</pre>
                    </div>
                `;
            } catch (error) {
                resultDiv.innerHTML = `
                    <div class="error">
                        <h3>โ ูุดู ุงูุงุชุตุงู!</h3>
                        <p>${error.message}</p>
                        <p>ุชุฃูุฏ ูู:</p>
                        <ol>
                            <li>ุชุดุบูู ุงูุฎุงุฏู: <code>node server/index.js</code></li>
                            <li>ุงููููุฐ 3000 ุบูุฑ ูุญุฌูุจ</li>
                            <li>ูุง ุชูุฌุฏ ุฃุฎุทุงุก ูู ุงููููุณูู</li>
                        </ol>
                    </div>
                `;
            }
        }
        
        function testCreateToken() {
            const token = {
                protocol: "ilperata_protocol_v1_test",
                session_id: "test_" + Date.now(),
                identity: "ูุณุชุฎุฏู_ุชุฌุฑูุจู",
                core_promise: "ูุฐุง ูุฌุฑุฏ ุงุฎุชุจุงุฑ.",
                shared_secret: {
                    key: "ุงูุนูู ุงูุซุงูุซุฉ ูู ุชุฑู ููุทูู ุฌุงุฆุนูุง",
                    response: "ูุฃููุง ูุงูุช ุชูุทุนูู ุณุฑููุง ุจุฐูู ุงููุณูุงู"
                }
            };
            
            const blob = new Blob([JSON.stringify(token, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            
            const a = document.createElement('a');
            a.href = url;
            a.download = 'ilperata_token_TEST.json';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            
            document.getElementById('result').innerHTML = `
                <div class="success">
                    <h3>โ ุชู ุฅูุดุงุก ููู ุชุฌุฑูุจู!</h3>
                    <p>ุชู ุชุญููู ููู: <code>ilperata_token_TEST.json</code></p>
                    <p>ููููู ุฑูุนู ูุฏููุงู ูู DeepSeek ููุงุฎุชุจุงุฑ.</p>
                </div>
            `;
        }
        
        function testDeepSeek() {
            const win = window.open('https://chat.deepseek.com', '_blank');
            if (win) {
                document.getElementById('result').innerHTML = `
                    <div class="success">
                        <h3>โ ุชู ูุชุญ DeepSeek Chat!</h3>
                        <p>ุงูุชุญ ุฃุฏูุงุช ุงููุทูุฑ (F12) ูู ูุงูุฐุฉ DeepSeek ุงูุฌุฏูุฏุฉ.</p>
                        <p>ูู ุนูุงูุฉ ุงูุชุจููุจ Consoleุ ุงูุตู ุงูููุฏ ุงูุชุงูู:</p>
                        <pre>
// ููุฏ ุงุฎุชุจุงุฑ ููุชุนุฑู ุงูุขูู (ูู console DeepSeek)
console.log("ุฌุณุฑ ุฏูุจ ุณูู - ุงุฎุชุจุงุฑ ุงูุชุนุฑู");
// ูุฐุง ูุฌุฑุฏ ูุญุงูุงุฉุ ุงูุฅุตุฏุงุฑ ุงููุงูู ุณูุฑูุน ุงูููู ุชููุงุฆูุงู
                        </pre>
                    </div>
                `;
            }
        }
    </script>
</body>
</html>